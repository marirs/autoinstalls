# PostgreSQL Host-Based Authentication Configuration
# Controls which users are allowed to connect to which databases
# Security: Only allow localhost connections

# TYPE  DATABASE        USER            ADDRESS                 METHOD

# "local" is for Unix domain socket connections only
local   all             postgres                                peer
local   all             all                                     md5

# IPv4 localhost connections only
host    all             all             127.0.0.1/32            md5

# IPv6 localhost connections only
host    all             all             ::1/128                 md5

# Reject all other IPv4 connections
host    all             all             0.0.0.0/0               reject

# Reject all other IPv6 connections
host    all             all             ::/0                    reject

# Allow replication connections from localhost only
local   replication     all                                     peer
host    replication     all             127.0.0.1/32            md5
host    replication     all             ::1/128                 md5

# Remote connections are disabled for security
# To enable remote access, uncomment and modify the lines below:
# host    all             all             10.0.0.0/8              md5
# host    all             all             192.168.1.0/24          md5

# SSL connections (localhost only)
# hostssl all             all             127.0.0.1/32            md5

# Specific database connections (localhost only)
# host    myapp            myapp_user      127.0.0.1/32            md5
# host    analytics        analytics_user  127.0.0.1/32            md5

# Read-only connections (localhost only)
# host    all             readonly_user   127.0.0.1/32            md5

# Backup connections (localhost only)
# host    all             backup_user     127.0.0.1/32            md5
